<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace ="userMapper">
<select id="searchId" resultType="userDto">
SELECT *
FROM USERTABLES
WHERE NICKNAME = #{NICKNAME}
</select>
<select id="joinClub" resultType="socialDto">
SELECT m.SOCIALNUM, s.TITLE, s.category, m.auth
  FROM SOCIALMEMBER m
  JOIN SOCIAL s
    ON m.SOCIALNUM=s.SOCIALNUM
 WHERE ID = #{id}
   AND s.SOCIALCLUB ='C'
ORDER BY AUTH
</select>
<select id="joinSocial" resultType="socialDto">
SELECT m.SOCIALNUM, s.TITLE, s.category, m.auth
  FROM SOCIALMEMBER m
  JOIN SOCIAL s
    ON m.SOCIALNUM=s.SOCIALNUM
 WHERE ID = #{id}
   AND s.SOCIALCLUB ='S'
ORDER BY AUTH
</select>
<update id="updateProfile">
UPDATE USERTABLE
   SET NAME =#{name}
     , PHONE =#{phone}
 WHERE EMAIL = #{email}

</update>
<update id="deleteUser">
UPDATE USERDETAIL
SET DELETED='Y'
  , DELETEDATE = SYSDATE
WHERE ID = #{email}
</update>

</mapper>