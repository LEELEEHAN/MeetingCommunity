<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace ="noticeMapper">

<insert id="write"  parameterType="noticeDto">
INSERT INTO NOTICE
(NOTICENUM,TITLE,CONTENT,CATEGORY,FILENAME)
VALUES
(#{noticeNum},#{title},#{content},#{category},#{fileName})
</insert>

<select id="getNum" resultType="_int">
SELECT NOTICE_NUM_SEQ.NEXTVAL FROM DUAL
</select>
<select id="getList" resultType="noticeDto">
SELECT *
FROM NOTICE
WHERE CATEGORY = #{category}
ORDER BY NOTICENUM DESC
</select>
<select id="getListTitle" resultType="noticeDto">
SELECT *
FROM NOTICE
WHERE lower(title) LIKE ('%'||#{title}||'%')
ORDER BY NOTICENUM DESC
</select>

<select id="getDetail" resultType="noticeDto">
SELECT *
FROM NOTICE
WHERE NOTICENUM = #{id}
</select>

<delete id ="deleteNotice">
DELETE NOTICE
WHERE NOTICENUM = #{id}
</delete>
<update id="modify">
UPDATE NOTICE
 SET CONTENT =#{content}
    ,CATEGORY =#{category}
    ,TITLE =#{title}
WHERE NOTICENUM = #{noticeNum}
</update>


</mapper>